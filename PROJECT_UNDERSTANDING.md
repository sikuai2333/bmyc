# 项目理解摘要（百名英才档案管理）

## 我理解的目标
- 打造「金岩高新人才成长APP」，面向 HR、领导展示以及需要完善自身档案的应届毕业生。
- 平台需要统一沉淀基础信息（含姓名、出生日期、性别、手机号等必填项）、固定类别的“6 维档案”画像、评价管理、成长轨迹、会议/活动参与记录以及证书材料。
- 角色显示保留四类：超级管理员、管理员、用户、展示专用。其中管理员包含 HR 与领导账号。

## 当前实现（从代码观察）
- 架构：`app/client` 为 Vite + React SPA；`app/server` 为 Express API；数据持久化为 SQLite（`app/data`）。
- 登录与权限：JWT 登录；角色包含 `admin / user / display`，其中 display 仅可看部分画像字段。
- 核心数据模型：
  - 人才（name/title/department/focus/bio/icon）
  - 画像维度（category/detail）
  - 会议活动（topic/meetingDate/location/summary/category）
  - 参会关系（meeting_attendees）
  - 系统账号（与人才可关联）
- 主要页面：
  - 登录页
  - 大屏总览：核心指标、会议趋势柱状图、画像维度分布、重点人才
  - 人才画像：按搜索/部门/维度标签筛选，查看画像与参会记录
  - 会议联动：时间轴 + 会议详情 + 参会人员跳转
  - 全局管理（仅管理员）：新增人才+账号、账号权限管理、档案编辑、会议创建/删除、系统概览
- 批量导入：服务端提供 `/api/import/people` 与 `/api/import/meetings`（管理员），另有 `/api/import/dimensions`。
- 环境配置：`.env` 控制管理员账号与是否加载示例数据。

## 新增/确认的业务要求
- 档案必填：姓名、出生日期（精确到日用于计算年龄）、性别、手机号；其余字段（院校、专业、入职批次、导师等）需要补充设计。
- 五维档案：固定分类且不评分，每个维度可附带多条点评语句。
- 六维分类固定为：思想政治、业务水平、业绩成果、八小时外业余生活、阅读学习情况、婚恋情况（暂不新增）。
- 评价管理：季度评价 + 年度综合评估 + 关联婚恋情况补充评价；无需审批流，评价由领导填写，用户只读。
- 成长轨迹：由用户自行上传，包含时间、事件等信息，建议用时间线展示。
- 管理后台：HR/高层专属，需要新增婚恋情况的数据统计与隐私管控。
- 权限：HR 与领导账号权限一致；普通用户仅维护自己的档案与六维数据；评价只读；暂不需要部门/导师级细分授权。
- 会议活动：需要完整的举办信息（主题、时间、地点、摘要、类别等），并与参会人才关联。
- 证书管理：支持上传 pdf/jpg/png 等文件并记录元数据（非强制），字段包含证书名称、颁发时间、附件路径、描述；证书无需脱敏，存储权限为只读并加强安全防护。
- 操作日志：记录“谁在什么时间修改了哪些字段/数据”，管理员可查。
- 批量导出：Excel 导出结构为“一人一表”；需要导入与校验功能（可配模板）。

## 角色与权限建议（已确认要点）
- 超级管理员：你本人使用，拥有系统全量权限（含账号/权限配置、日志查看、导入导出等）。
- 管理员：包含 HR 与领导账号，负责档案/评价/成长轨迹/证书/会议等全量管理。
  - HR：默认不脱敏，可直接查看手机号、出生日期、婚恋详情等敏感字段。
  - 领导：默认脱敏，但提供“显示”按钮可查看明文；按钮点击后仅对该账号生效，允许手动恢复脱敏，无需记录到日志。
- 用户：仅编辑自己的档案与六维数据、成长轨迹；评价只读。
- 展示专用：界面与领导一致，但始终脱敏且不能查看敏感信息、不能编辑。

## 权限拆分清单（已确认）
- 基础档案：查看全部 / 编辑全部 / 编辑本人
- 六维画像：查看全部 / 编辑全部 / 编辑本人
- 评价管理：查看 / 编辑（领导填写）
- 成长轨迹：查看全部 / 编辑全部 / 编辑本人
- 会议活动：查看 / 编辑
- 证书管理：查看 / 上传 / 删除
- 敏感信息：查看明文（手机号、出生日期、婚恋详情）
- 账号与权限：账号管理 / 权限配置 / 角色管理面板访问
- 数据导入导出：Excel 导入 / Excel 导出
- 操作日志：查看日志

## 默认权限矩阵（建议，可由超级管理员按账号调整）
| 权限项 | 超级管理员 | 管理员（HR/领导） | 用户 | 展示专用 |
| --- | --- | --- | --- | --- |
| 基础档案 | 全量读写 | 全量读写 | 仅本人读写 | 只读（脱敏） |
| 六维画像 | 全量读写 | 全量读写 | 仅本人读写 | 只读（脱敏） |
| 评价管理 | 读写 | 读写（领导填写） | 只读 | 只读（脱敏） |
| 成长轨迹 | 全量读写 | 全量读写 | 仅本人读写 | 只读（脱敏） |
| 会议活动 | 读写 | 读写 | 只读 | 只读 |
| 证书管理 | 全量读写 | 全量读写 | 仅本人上传/删除/查看 | 只读 |
| 敏感信息明文 | 全量可见 | 可见（HR 默认不脱敏，领导默认脱敏 + 可手动显示） | 仅本人可见 | 不可见 |
| 账号与权限 | 全量管理 | 默认无（可按账号开放） | 无 | 无 |
| Excel 导入/导出 | 允许 | 允许 | 不允许 | 不允许 |
| 操作日志 | 允许 | 默认允许（可按账号关闭） | 不允许 | 不允许 |

## 界面与交互规则（确认项）
- 领导“显示”按钮只对当前账号生效，允许手动恢复脱敏，不记入操作日志。
- 展示专用账号与领导界面一致，但始终脱敏且不能查看敏感信息、不能编辑。

